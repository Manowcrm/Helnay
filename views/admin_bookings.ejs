<h1>Bookings (Admin)</h1>
<table class="table table-striped">
  <thead>
    <tr>
      <th>#</th>
      <th>Listing</th>
      <th>Name</th>
      <th>Email</th>
      <th>Check-in</th>
      <th>Check-out</th>
      <th>Status</th>
      <th>Created</th>
      <th>Actions</th>
    </tr>
  </thead>
  <tbody>
    <% bookings.forEach(function(b){ %>
      <tr>
        <td><%= b.id %></td>
        <td><%= b.title %></td>
        <td><%= b.name %></td>
        <td><%= b.email %></td>
        <td><%= b.checkin %></td>
        <td><%= b.checkout %></td>
        <td>
          <% if (b.status === 'approved') { %>
            <span class="badge bg-success">Approved</span>
          <% } else if (b.status === 'denied') { %>
            <span class="badge bg-danger">Denied</span>
          <% } else if (b.status === 'cancelled') { %>
            <span class="badge bg-secondary">Cancelled</span>
          <% } else { %>
            <span class="badge bg-warning text-dark">Pending</span>
          <% } %>
        </td>
        <td><%= b.created_at %></td>
        <td>
          <a href="/admin/bookings/<%= b.id %>/edit" class="btn btn-sm btn-warning">
            <i class="bi bi-pencil"></i> Edit
          </a>
          <% if (!b.status || b.status === 'pending') { %>
            <form method="POST" action="/admin/bookings/<%= b.id %>/approve" style="display:inline;">
              <button type="submit" class="btn btn-sm btn-success">Approve</button>
            </form>
            <form method="POST" action="/admin/bookings/<%= b.id %>/deny" style="display:inline;">
              <button type="submit" class="btn btn-sm btn-danger">Deny</button>
            </form>
          <% } %>
        </td>
      </tr>
    <% }) %>
  </tbody>
</table>
